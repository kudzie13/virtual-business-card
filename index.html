<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modern Virtual Business Card</title>
  <link rel="stylesheet" href="styles.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body class="light vertical">

<div class="top-controls">
  <button id="toggle-dark">ğŸŒ™ Dark Mode</button>
  <button id="toggle-layout">ğŸ“ Toggle Layout</button>
</div>

<div class="card">
  <img src="Profile.jpg" class="profile" alt="Profile" />
  <h1>Kudzaiishe Nyenza</h1>
  <h3>Student â€¢ Full-Stack Developer</h3>

  <p class="tagline">
    I create modern, responsive websites and applications using HTML, CSS, JS,
    React, and Node.js. Passionate about delivering clean UI, strong UX, and smooth performance.
  </p>

  <div class="skills">
    <div class="chip">HTML</div>
    <div class="chip">CSS</div>
    <div class="chip">JavaScript</div>
    <div class="chip">React</div>
    <div class="chip">Node.js</div>
    <div class="chip">SQL</div>
    <div class="chip">GitHub</div>
  </div>

  <div class="links">
    <a href="tel:+917291847303">ğŸ“ Call</a>
    <a href="mailto:kudzienyenza@gmail.com">ğŸ“§ Email</a>
    <a href="https://www.linkedin.com/in/kudzaiishe-nyenza-7a1883220" target="_blank">ğŸ’¼ LinkedIn</a>
    <a href="https://github.com/kudzie13" target="_blank">ğŸ’» GitHub</a>
  </div>

  <a href="data:text/vcard;charset=utf-8,BEGIN:VCARD%0AVERSION:3.0%0AFN:Kudzaiishe%20Nyenza%0ATITLE:Full%20Stack%20Developer%0ATEL:+917291847303%0AEMAIL:kudzienyenza@gmail.com%0AURL:https://github.com/kudzie13%0AEND:VCARD" 
download="Kudzaiishe_Nyenza.vcf" 
class="btn-download">â¬‡ Download vCard</a>

</div>
<!-- QR MODAL BUTTON -->
<button id="show-qr" class="qr-btn">ğŸ“± Show QR</button>

<!-- QR POPUP CONTAINER -->
<div id="qr-modal" class="qr-modal">
  <div class="qr-content">
    <span id="close-qr" class="qr-close">&times;</span>
    <h2>Scan Me</h2>
    <div id="qrcode"></div>
    <a id="download-qr" class="qr-download">Download QR</a>
  </div>
</div>

<script>
  const darkToggle = document.getElementById('toggle-dark');
  const layoutToggle = document.getElementById('toggle-layout');
  const body = document.body;

  darkToggle.onclick = () => {
    body.classList.toggle('dark');
  };

  layoutToggle.onclick = () => {
    body.classList.toggle('horizontal');
    body.classList.toggle('vertical');
  };

  /* ---------- QR CODE POPUP LOGIC ---------- */
const qrModal = document.getElementById("qr-modal");
const showQR = document.getElementById("show-qr");
const closeQR = document.getElementById("close-qr");

showQR.onclick = () => {
  qrModal.style.display = "flex";

  // Generate QR only once
  if (!document.querySelector("#qrcode img")) {
    const qr = new QRCode(document.getElementById("qrcode"), {
      text: "https://kudzie13.github.io/virtual-business-card/",
      width: 180,
      height: 180
    });
  }
};

// Close QR
closeQR.onclick = () => qrModal.style.display = "none";
qrModal.onclick = (e) => {
  if (e.target === qrModal) qrModal.style.display = "none";
};

/* Download QR */
document.getElementById("download-qr").onclick = () => {
  const qrImage = document.querySelector("#qrcode img").src;
  const link = document.createElement("a");
  link.href = qrImage;
  link.download = "Kudzaiishe_Nyenya_QR.png";
  link.click();
};

</script>

</body>
</html>

